// src/utils/aiAdvisor.ts

/**
 * å„ã‚¹ã‚³ã‚¢ã«åŸºã¥ã„ã¦AIé¢¨ã®æ”¹å–„ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ç”Ÿæˆ
 */
export function generateImprovementAdvice({
  textScore,
  contrastScore,
  backgroundScore,
}: {
  textScore: number;
  contrastScore: number;
  backgroundScore: number;
}): string[] {
  const advice: string[] = [];

  // ğŸ…°ï¸ æ–‡å­—ã‚µã‚¤ã‚ºç³»
  if (textScore < 50)
    advice.push("æ–‡å­—ã‚µã‚¤ã‚ºã‚’1ã€œ2æ®µéšå¤§ããã—ã€è¡Œé–“ã«ã‚‚ä½™è£•ã‚’æŒãŸã›ã¾ã—ã‚‡ã†ã€‚");
  else if (textScore < 70)
    advice.push("è¦‹å‡ºã—ã‚„é‡è¦èªå¥ã‚’ã‚„ã‚„å¤§ãã‚ã®ãƒ•ã‚©ãƒ³ãƒˆã«ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚");
  else
    advice.push("æ–‡å­—ã‚µã‚¤ã‚ºã¯ååˆ†ã§ã™ã€‚å¯èª­æ€§ã¯è‰¯å¥½ã§ã™ã€‚");

  // âš–ï¸ ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆç³»
  if (contrastScore < 50)
    advice.push("èƒŒæ™¯ã¨æ–‡å­—ã®è‰²å·®ã‚’ã‚ˆã‚Šå¼·ã‚ã«è¨­å®šã—ã¾ã—ã‚‡ã†ï¼ˆä¾‹ï¼šæ˜ã‚‹ã„èƒŒæ™¯ã«æ¿ƒã„æ–‡å­—ï¼‰ã€‚");
  else if (contrastScore < 70)
    advice.push("ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’å°‘ã—é«˜ã‚ã‚‹ã¨ã•ã‚‰ã«è¦‹ã‚„ã™ããªã‚Šã¾ã™ã€‚");
  else
    advice.push("ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã¯åŸºæº–ã‚’æº€ãŸã—ã¦ã„ã¾ã™ã€‚");

  // ğŸ¨ èƒŒæ™¯ã°ã‚‰ã¤ãç³»
  if (backgroundScore < 50)
    advice.push("èƒŒæ™¯ã®æ¨¡æ§˜ã‚„å†™çœŸãŒæ–‡å­—ã®åˆ¤èª­ã‚’å¦¨ã’ã¦ã„ã¾ã™ã€‚å˜è‰²ã¾ãŸã¯åŠé€æ˜ã®ç™½èƒŒæ™¯ã‚’è¿½åŠ ã™ã‚‹ã¨â—ã€‚");
  else if (backgroundScore < 70)
    advice.push("èƒŒæ™¯ã®ãƒˆãƒ¼ãƒ³ã‚’å°‘ã—è½ã¨ã™ã¨æ–‡å­—ãŒã‚ˆã‚Šéš›ç«‹ã¡ã¾ã™ã€‚");
  else
    advice.push("èƒŒæ™¯ã¯æ–‡å­—ã¨ã®ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚Œã¦ã„ã¾ã™ã€‚");

  // ğŸŒŸ ç·åˆã‚¢ãƒ‰ãƒã‚¤ã‚¹
  const avg = (textScore + contrastScore + backgroundScore) / 3;
  if (avg >= 85)
    advice.push("ç·åˆçš„ã«è¦‹ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚ã“ã®èª¿å­ã§çµ±ä¸€æ„Ÿã‚’ä¿ã¡ã¾ã—ã‚‡ã†ã€‚");
  else if (avg >= 65)
    advice.push("æ¦‚ã­è‰¯å¥½ã§ã™ãŒã€ç´°éƒ¨ã®è‰²ã‚„ã‚µã‚¤ã‚ºã‚’å¾®èª¿æ•´ã™ã‚‹ã¨ã•ã‚‰ã«æ”¹å–„ã—ã¾ã™ã€‚");
  else
    advice.push("å…¨ä½“çš„ã«è¦–èªæ€§ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ»è‰²å½©ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ»èƒŒæ™¯å‡¦ç†ã‚’è¦‹ç›´ã—ã¾ã—ã‚‡ã†ã€‚");

  return advice;
}